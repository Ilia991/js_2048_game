{"version":3,"sources":["scripts/main.js"],"names":["scoreBlock","document","querySelector","btnStart","gameField","tbody","message","messageWin","messageLose","block","start","window","matchMedia","matches","addEventListener","e","key","moveUp","moveDown","moveLeft","moveRight","x1","y1","firstTouch","changedTouches","clientX","clientY","x2","y2","diffX","diffY","Math","abs","sign","updateNewValue","firstChild","removeChild","l","length","row","createElement","classList","add","k","cell","innerText","appendChild","addNewValue","randomValue","ceil","random","randomRow","randomCell","getStart","getRestart","i","q","filterRow","filter","move","line","textContent","push","moveD","unshift","setWin","j","remove","checkedArr","defaultRow","matchCkeck","s","includes","setLose","checkedBlock","u","d","r","toggle"],"mappings":"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","file":"main.8cc24bb9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst scoreBlock = document.querySelector('.game-score');\r\nconst btnStart = document.querySelector('.start');\r\nconst gameField = document.querySelector('.game-field');\r\nconst tbody = document.querySelector('tbody');\r\nconst message = document.querySelector('.message-start');\r\nconst messageWin = document.querySelector('.message-win');\r\nconst messageLose = document.querySelector('.message-lose');\r\n\r\nconst block = [\r\n  [0, 0, 0, 0],\r\n  [0, 0, 0, 0],\r\n  [0, 0, 0, 0],\r\n  [0, 0, 0, 0],\r\n];\r\n\r\nlet start = false;\r\n\r\nif (window.matchMedia('(min-width: 1000px)').matches) {\r\n  window.addEventListener('keydown', (e) => {\r\n    if (start) {\r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n          return moveUp();\r\n\r\n        case 'ArrowDown':\r\n          return moveDown();\r\n\r\n        case 'ArrowLeft':\r\n          return moveLeft();\r\n\r\n        case 'ArrowRight':\r\n          return moveRight();\r\n\r\n        default:\r\n      }\r\n    }\r\n  });\r\n} else {\r\n  let x1 = null;\r\n  let y1 = null;\r\n\r\n  gameField.addEventListener('touchstart', (e) => {\r\n    const firstTouch = e.changedTouches[0];\r\n\r\n    x1 = firstTouch.clientX;\r\n    y1 = firstTouch.clientY;\r\n  }, false);\r\n\r\n  gameField.addEventListener('touchend', (e) => {\r\n    if (!x1 || !y1) {\r\n      return;\r\n    }\r\n\r\n    const x2 = e.changedTouches[0].clientX;\r\n    const y2 = e.changedTouches[0].clientY;\r\n\r\n    const diffX = x1 - x2;\r\n    const diffY = y1 - y2;\r\n\r\n    if (Math.abs(diffX) > Math.abs(diffY)) {\r\n      if (Math.sign(diffX) === 1) {\r\n        return moveLeft();\r\n      } else {\r\n        return moveRight();\r\n      }\r\n    } else if (Math.abs(diffX) < Math.abs(diffY)) {\r\n      if (Math.sign(diffY) === 1) {\r\n        return moveUp();\r\n      } else {\r\n        return moveDown();\r\n      }\r\n    } else {\r\n\r\n    }\r\n  }, false);\r\n}\r\n\r\nfunction updateNewValue() {\r\n  while (tbody.firstChild) {\r\n    tbody.removeChild(tbody.firstChild);\r\n  }\r\n\r\n  for (let l = 0; l < block.length; l++) {\r\n    const row = document.createElement('tr');\r\n\r\n    row.classList.add('field-row');\r\n\r\n    for (let k = 0; k < block[l].length; k++) {\r\n      const cell = document.createElement('td');\r\n\r\n      cell.classList.add('field-cell');\r\n\r\n      if (block[l][k] > 1) {\r\n        cell.classList.add(`field-cell--${block[l][k]}`);\r\n        cell.innerText = `${block[l][k]}`;\r\n      }\r\n\r\n      row.appendChild(cell);\r\n    }\r\n\r\n    tbody.appendChild(row);\r\n  }\r\n}\r\n\r\nbtnStart.addEventListener('click', () => {\r\n  start = !start;\r\n  btnStart.classList.toggle('restart');\r\n  btnStart.classList.toggle('start');\r\n  message.classList.toggle('hidden');\r\n  messageLose.classList.add('hidden');\r\n  btnStart.innerText = start ? 'Restart' : 'Start';\r\n\r\n  if (!start) {\r\n    getRestart();\r\n    scoreBlock.textContent = 0;\r\n  }\r\n\r\n  getStart();\r\n});\r\n\r\nfunction addNewValue() {\r\n  const randomValue = Math.ceil(Math.random() * 100);\r\n  const randomRow = Math.ceil(Math.random() * 4) - 1;\r\n  const randomCell = Math.ceil(Math.random() * 4) - 1;\r\n\r\n  if (block[randomRow][randomCell] === 0) {\r\n    block[randomRow][randomCell] = randomValue >= 90 ? 4 : 2;\r\n  } else {\r\n    addNewValue();\r\n  }\r\n\r\n  updateNewValue();\r\n}\r\n\r\nfunction getStart() {\r\n  if (start) {\r\n    addNewValue();\r\n    addNewValue();\r\n  }\r\n}\r\n\r\nfunction getRestart() {\r\n  for (let i = 0; i < block.length; i++) {\r\n    for (let q = 0; q < block[i].length; q++) {\r\n      block[i][q] = 0;\r\n    }\r\n  }\r\n\r\n  updateNewValue();\r\n}\r\n\r\nfunction filterRow(row) {\r\n  return row.filter((cell) => cell !== 0);\r\n}\r\n\r\nfunction move(row) {\r\n  let line = filterRow(row);\r\n\r\n  for (let i = 0; i < line.length - 1; i++) {\r\n    if (line[i] === line[i + 1]) {\r\n      line[i] *= 2;\r\n      line[i + 1] = 0;\r\n      scoreBlock.textContent = +scoreBlock.textContent + +line[i];\r\n    }\r\n  }\r\n\r\n  line = filterRow(line);\r\n\r\n  while (line.length < block.length) {\r\n    line.push(0);\r\n  }\r\n\r\n  return line;\r\n}\r\n\r\nfunction moveD(row) {\r\n  let line = filterRow(row);\r\n\r\n  for (let i = line.length - 1; i >= 1; i--) {\r\n    if (line[i - 1] === line[i]) {\r\n      line[i] *= 2;\r\n      line[i - 1] = 0;\r\n      scoreBlock.textContent = +scoreBlock.textContent + +line[i];\r\n    }\r\n  }\r\n\r\n  line = filterRow(line);\r\n\r\n  while (line.length < block.length) {\r\n    line.unshift(0);\r\n  }\r\n\r\n  return line;\r\n}\r\n\r\nfunction setWin() {\r\n  for (let i = 0; i < block.length; i++) {\r\n    for (let j = 0; j < block[i].length; j++) {\r\n      if (block[i][j] === 2048) {\r\n        messageWin.classList.remove('hidden');\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction moveLeft() {\r\n  const checkedArr = [];\r\n\r\n  for (let i = 0; i < block.length; i++) {\r\n    let row = [\r\n      block[i][0],\r\n      block[i][1],\r\n      block[i][2],\r\n      block[i][3],\r\n    ];\r\n    const defaultRow = [...row];\r\n    const matchCkeck = [];\r\n\r\n    row = move(row);\r\n\r\n    for (let s = 0; s < defaultRow.length; s++) {\r\n      matchCkeck.push(defaultRow[s] === row[s]);\r\n    }\r\n\r\n    block[i][0] = row[0];\r\n    block[i][1] = row[1];\r\n    block[i][2] = row[2];\r\n    block[i][3] = row[3];\r\n\r\n    checkedArr.push(!matchCkeck.includes(false));\r\n  }\r\n\r\n  if (checkedArr.includes(false)) {\r\n    addNewValue();\r\n  }\r\n\r\n  setWin();\r\n  setLose();\r\n}\r\n\r\nfunction moveRight() {\r\n  const checkedArr = [];\r\n\r\n  for (let i = 0; i < block.length; i++) {\r\n    let row = [\r\n      block[i][0],\r\n      block[i][1],\r\n      block[i][2],\r\n      block[i][3],\r\n    ];\r\n\r\n    const defaultRow = [...row];\r\n    const matchCkeck = [];\r\n\r\n    row = moveD(row);\r\n\r\n    for (let s = 0; s < defaultRow.length; s++) {\r\n      matchCkeck.push(defaultRow[s] === row[s]);\r\n    }\r\n\r\n    block[i][0] = row[0];\r\n    block[i][1] = row[1];\r\n    block[i][2] = row[2];\r\n    block[i][3] = row[3];\r\n\r\n    checkedArr.push(!matchCkeck.includes(false));\r\n  }\r\n\r\n  if (checkedArr.includes(false)) {\r\n    addNewValue();\r\n  }\r\n\r\n  setWin();\r\n  setLose();\r\n}\r\n\r\nfunction moveDown() {\r\n  const checkedArr = [];\r\n\r\n  for (let i = 0; i < block.length; i++) {\r\n    let row = [\r\n      block[0][i],\r\n      block[1][i],\r\n      block[2][i],\r\n      block[3][i],\r\n    ];\r\n\r\n    const defaultRow = [...row];\r\n    const matchCkeck = [];\r\n\r\n    row = moveD(row);\r\n\r\n    for (let s = 0; s < defaultRow.length; s++) {\r\n      matchCkeck.push(defaultRow[s] === row[s]);\r\n    }\r\n\r\n    block[0][i] = row[0];\r\n    block[1][i] = row[1];\r\n    block[2][i] = row[2];\r\n    block[3][i] = row[3];\r\n\r\n    checkedArr.push(!matchCkeck.includes(false));\r\n  }\r\n\r\n  if (checkedArr.includes(false)) {\r\n    addNewValue();\r\n  }\r\n\r\n  setWin();\r\n  setLose();\r\n}\r\n\r\nfunction moveUp() {\r\n  const checkedArr = [];\r\n\r\n  for (let i = 0; i < block.length; i++) {\r\n    let row = [\r\n      block[0][i],\r\n      block[1][i],\r\n      block[2][i],\r\n      block[3][i],\r\n    ];\r\n    const defaultRow = [...row];\r\n    const matchCkeck = [];\r\n\r\n    row = move(row);\r\n\r\n    for (let s = 0; s < defaultRow.length; s++) {\r\n      matchCkeck.push(defaultRow[s] === row[s]);\r\n    }\r\n\r\n    block[0][i] = row[0];\r\n    block[1][i] = row[1];\r\n    block[2][i] = row[2];\r\n    block[3][i] = row[3];\r\n\r\n    checkedArr.push(!matchCkeck.includes(false));\r\n  }\r\n\r\n  if (checkedArr.includes(false)) {\r\n    addNewValue();\r\n  }\r\n\r\n  setWin();\r\n  setLose();\r\n}\r\n\r\nfunction setLose() {\r\n  let checkedBlock = false;\r\n  const checkedArr = [];\r\n\r\n  for (let k = 0; k < block.length; k++) {\r\n    if (block[k].includes(0)) {\r\n      checkedBlock = false;\r\n      break;\r\n    } else {\r\n      checkedBlock = true;\r\n    }\r\n  }\r\n\r\n  if (checkedBlock) {\r\n    for (let i = 0; i < block.length; i++) {\r\n      for (let j = 0; j < block[i].length; j++) {\r\n        if (block[i][j] > 0) {\r\n          const u = i > 0 && block[i - 1][j] === block[i][j];\r\n          const d = i < block.length - 1 && block[i + 1][j] === block[i][j];\r\n          const r = j < block[i].length - 1 && block[i][j + 1] === block[i][j];\r\n          const l = j > 0 && block[i][j - 1] === block[i][j];\r\n\r\n          if (!(u || d || r || l)) {\r\n            checkedArr.push(!(u || d || r || l));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (checkedArr.length === 16) {\r\n    messageLose.classList.remove('hidden');\r\n  }\r\n}\r\n"]}